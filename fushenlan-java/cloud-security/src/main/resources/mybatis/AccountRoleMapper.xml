<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.fulan.application.mapper.AccountRoleMapper" >    <resultMap id="BaseResultMap" type="com.fulan.api.security.domain.AccountRole" >        <id column="id" property="id" jdbcType="BIGINT" />        <result column="account_id" property="accountId" jdbcType="BIGINT" />        <result column="role_id" property="roleId" jdbcType="BIGINT"/>    </resultMap>    <sql id="Base_Column_List" >        id, account_id,role_id    </sql>    <select id="findById" parameterType="java.lang.Long" resultMap="BaseResultMap" >        SELECT        <include refid="Base_Column_List" />       FROM account_role  WHERE id = #{id}    </select>    <select id="findByAccountId" parameterType="java.lang.Long" resultMap="BaseResultMap" >        SELECT        <include refid="Base_Column_List" />       FROM account_role  WHERE account_id = #{id}    </select>    <delete id="deleteAccountId" parameterType="java.lang.Long">    	delete from account_role where account_id = #{accountId}    </delete>    <select id="findByRoleId" parameterType="java.lang.Long" resultMap="BaseResultMap" >        SELECT        <include refid="Base_Column_List" />       FROM account_role  WHERE role_id = #{id}    </select>	<insert id="inserBylist" parameterType="java.util.List" >		insert into account_role (id,account_id,role_id) values 			<foreach collection="list" index="index" item="item" open="" separator="," close="">              (#{item.id},#{item.accountId}, #{item.roleId})        	</foreach>        		</insert>	<select id="selectRoles" parameterType="java.lang.Long" resultType="java.lang.Long">		select role_id from  account_role where account_id = #{accountId}	</select>		<select id="selectAccountRoleManageVo" resultType="java.lang.String" >	select rce.url AS name  from account at      LEFT JOIN  account_role are on  at.id = are.account_id     LEFT JOIN  role ro on ro.id = are.role_id     LEFT JOIN  role_resource rre on rre.role_id = ro.id     LEFT JOIN  resource rce on rce.id = rre.resource_id     where at.id=#{accountId}           and case ifnull(rce.url,'') when '' then 1!=1  ELSE 1=1 end	</select>		<select id="selectByAccountId" resultType="java.lang.String" >	        select re.resource_name AS name from account_role ar              inner join role r on r.id = ar.role_id             inner join role_resource rr on rr.role_id = r.id            inner join resource re on re.id = rr.resource_id            where ar.account_id =#{accountId}	</select>		<select id="selectAccountRoleManageMinVo" resultType="java.lang.String" >	        select r.role_name AS name 	        from account_role ar              left join             role r on r.id = ar.role_id             where ar.account_id =#{accountId}	</select>		<select id="seleByAccountIdList" resultType="java.lang.Long" >	        select role_id	        from account_role             where account_id =#{accountId}	</select></mapper>