package com.fulan.application.login.service.impl;import com.fulan.api.security.domain.Account;import com.fulan.api.security.vo.AccountVO;import com.fulan.application.login.service.HandlerLoginService;import com.fulan.application.login.service.LoginService;import com.fulan.application.service.AccountService;import com.fulan.application.util.domain.Response;import com.fulan.application.util.md5.MD5Util;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import org.springframework.transaction.annotation.Transactional;/** * @Description: 登录本地系统业务处理逻辑 * @author: guiyang * @date: 2018/1/25 14:22 */@Service("LOCAL_SYSTEM")@Transactionalpublic class LocalLoginServiceImpl implements LoginService {	private Logger logger = LoggerFactory.getLogger(HandlerLoginServiceImpl.class);	@Autowired	private HandlerLoginService handlerLoginService;	@Autowired	private AccountService accountService;	@Override	public Response<String> login(AccountVO accountVO) {		Account account;		try {			account = accountService.selectByAccount(accountVO);			if (account == null){				return new Response<>(Response.ERROR, "用户不存在");			}			if(!MD5Util.MD5(accountVO.getPassword()).equals(account.getPassword())){				return new Response<>(Response.ERROR, "密码不正确,请您重试");			}		}catch (Exception e){			logger.error("{-----查询数据库异常-----}");			e.printStackTrace();			return new Response<>(Response.ERROR, "查询数据库异常");		}		return  handlerLoginService.handler(account);	}}